function [D,W,error] = distance(X)
try
format long;
% X = [-3.60529  -3.87941  0.23156  2.46487  1.88176  15.42634 0.38246  11.72211  1.38618  -1.21819  13.00238  -6.13506];
% X = [-3.60529  -3.87941  0.23156  2.46487  1.88176  15.42634 0.38246  11.72211  1.88618  -1.21819  13.00238  -6.13506];

% X = [ -3.82908  -2.83652   0.15152   2.08200   1.59488   5.39672...
%        0.29474   0.58545   1.74938  -1.44383  15.28438  -7.80303]; % bad X, season merge errors, firm type 57

%  X = [-4.03445798011107,-6.94738000951559,0.142220164381744,0.959322530876036,0.805958085474937,...
% 18.2601783879085,0.199551202967806,3.15966673348177,0.893634850972653,-0.474077221570324,11.6836739170030,-11.5573865307055]; % generates splicing errors, firm type = 99.00

% X = [...
% -3.52201733966036,-7.45364423602616,0.164776405852209,2.16694223391996,...
% 1.10043965330324,17.7941196964992,0.204709972120953,2.70540975840051,...
% 1.95287861373363,-0.224270614673912,9.90178046582606,-4.70162533874120]; % bad X firm type 118

rng(80085,'twister');
seed_crand(80085);

mm = setModelParameters(X);
policy = generatePolicyAndValueFunctions(mm);
simMoms = simulateMomentsMain(policy,mm);
[D,~] = calculateDistanceAndPrint(simMoms,mm,X);

catch
  fprintf('\r\n Failed to evaluate fit metric \n')
  D = 1e12;
end  
